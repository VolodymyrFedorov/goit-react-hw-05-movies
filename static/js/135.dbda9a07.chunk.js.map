{"version":3,"file":"static/js/135.dbda9a07.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Container/Container.module.css?9f71","components/Container/Container.jsx","webpack://react-homework-template/./src/components/Title/Title.module.css?a947","components/Title/Title.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/getMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import css from './Container.module.css';\n\nexport const Container = ({ children }) => {\n  return <div className={css.container}>{children}</div>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Title_title__mrNq5\"};","import css from './Title.module.css';\n\nexport const Title = ({ children }) => {\n  return <h1 className={css.title}>{children}</h1>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"linkBack\":\"MovieDetails_linkBack__CKjEq\",\"genres\":\"MovieDetails_genres__Pnmgt\",\"boxContant\":\"MovieDetails_boxContant__SNEFB\",\"postert\":\"MovieDetails_postert__f4I0S\",\"infoContent\":\"MovieDetails_infoContent__ELlH1\",\"linkList\":\"MovieDetails_linkList__767FF\",\"linkItem\":\"MovieDetails_linkItem__QXhuP\",\"active\":\"MovieDetails_active__uPNdW\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport {\n  NavLink,\n  Link,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { getMovieDetailes } from 'services/getMovies';\nimport { Loader } from 'components/Loader/Loader';\nimport { Container } from 'components/Container/Container';\nimport { Title } from 'components/Title/Title';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [detailsMovie, setDetailsMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    getMovieDetailes(movieId)\n      .then(data => {\n        if (data.length === 0) {\n          return Promise.reject(\n            new Error(`Oops, something went wrong... Please try again`)\n          );\n        }\n        return setDetailsMovie(data);\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  if (!detailsMovie) return;\n\n  const { title, genres, overview, poster_path } = detailsMovie;\n\n  return (\n    <main>\n      <Container>\n        {error && <h1>{error.message}</h1>}\n        {loading && <Loader />}\n        <Link className={css.linkBack} to={backLinkLocationRef.current}>\n          Go to Back\n        </Link>\n\n        <div className={css.boxContant}>\n          <div className={css.poster}>\n            <img\n              src={\n                poster_path\n                  ? `https://image.tmdb.org/t/p/w200${poster_path}`\n                  : `https://dummyimage.com/200x300`\n              }\n              alt=\"poster \"\n              width=\"200\"\n            />\n          </div>\n          <div className={css.infoContent}>\n            <Title>{title}</Title>\n\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <p>\n              {genres\n                ? genres.map(genre => (\n                    <span className={css.genres} key={genre.id}>\n                      {genre.name}\n                    </span>\n                  ))\n                : ''}\n            </p>\n          </div>\n        </div>\n        <div>\n          <h3>Additional information</h3>\n          <ul className={css.linkList}>\n            <li className={css.item}>\n              <NavLink\n                className={({ isActive }) =>\n                  isActive ? `${css.active}` : `${css.linkItem}`\n                }\n                to=\"cast\"\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li className={css.item}>\n              <NavLink\n                className={({ isActive }) =>\n                  isActive ? `${css.active}` : `${css.linkItem}`\n                }\n                to=\"reviews\"\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      </Container>\n    </main>\n  );\n};\nexport default MovieDetails;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'f8a6c1c08257b05a7c4692b093cbf34e';\n\nexport const getTrendingMovies = () => {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getMovieDetailes = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(`Oops, something went wrong...`));\n    } else return res.json();\n  });\n};\n\nexport const getMovieCast = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getMovieReviews = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getSearchMovies = query => {\n  return fetch(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`\n  ).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(`Oops, something went wrong...`));\n    } else return res.json();\n  });\n};\n"],"names":["Container","children","className","css","Title","movieId","useParams","useState","detailsMovie","setDetailsMovie","loading","setLoading","error","setError","useEffect","getMovieDetailes","then","data","length","Promise","reject","Error","catch","finally","location","useLocation","backLinkLocationRef","useRef","state","from","title","genres","overview","poster_path","message","Loader","to","current","src","alt","width","map","genre","name","id","isActive","Suspense","fallback","BASE_URL","API_KEY","getTrendingMovies","fetch","res","status","json","getMovieCast","getMovieReviews","getSearchMovies","query"],"sourceRoot":""}