{"version":3,"file":"static/js/76.0b029b5a.chunk.js","mappings":"kOACA,EAAuB,mBAAvB,EAAqD,uBAArD,EAAwF,wBAAxF,EAA2H,uB,SCwD3H,EAnDa,WACX,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAwBE,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAiBA,OAfAC,EAAAA,EAAAA,YAAU,WACRH,GAAW,IACXI,EAAAA,EAAAA,IAAaV,GACVW,MAAK,SAAAC,GACJ,OAAoB,IAAhBA,EAAKC,OACAC,QAAQC,OACb,IAAIC,MAAJ,mDAGGZ,EAAQQ,EAAKT,KACrB,IACAc,OAAM,SAAAV,GAAK,OAAIC,EAASD,EAAb,IACXW,SAAQ,kBAAMZ,GAAW,EAAjB,GACZ,GAAE,CAACN,KAGF,2BACGO,IAAS,wBAAKA,EAAMY,UACpBd,IAAW,SAACe,EAAA,EAAD,KAEZ,eAAIC,UAAWC,EAAf,SACGnB,EAAKoB,KAAI,YAA4C,IAAzCC,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,KAAMC,EAAS,EAATA,GAC1C,OACE,gBAAIN,UAAWC,EAAf,WACE,gBACED,UAAWC,EACXM,IACEJ,EAAY,yCAC0BA,GAD1B,8CAE+BE,GAE7CG,IAAKH,EACLI,MAAM,SAER,iBAAKT,UAAWC,EAAhB,WACE,wBAAKI,KACL,yBAAG,cAAYD,UAbeE,EAiBrC,QAIR,C,uJCxDD,IAAMI,EAAW,+BACXC,EAAU,mCAEHC,EAAoB,WAC/B,OAAOC,MAAM,GAAD,OAAIH,EAAJ,uCAA2CC,IAAWrB,MAChE,SAAAwB,GACE,OAAmB,MAAfA,EAAIC,OACCtB,QAAQC,OAAO,IAAIC,MAAJ,kCACVmB,EAAIE,MACnB,GAEJ,EAEYC,EAAmB,SAAAtC,GAC9B,OAAOkC,MAAM,GAAD,OAAIH,EAAJ,kBAAsB/B,EAAtB,oBAAyCgC,IAAWrB,MAAK,SAAAwB,GACnE,OAAmB,MAAfA,EAAIC,OACCtB,QAAQC,OAAO,IAAIC,MAAJ,kCACVmB,EAAIE,MACnB,GACF,EAEY3B,EAAe,SAAAV,GAC1B,OAAOkC,MAAM,GAAD,OAAIH,EAAJ,kBAAsB/B,EAAtB,4BAAiDgC,IAAWrB,MACtE,SAAAwB,GACE,OAAmB,MAAfA,EAAIC,OACCtB,QAAQC,OAAO,IAAIC,MAAJ,kCACVmB,EAAIE,MACnB,GAEJ,EAEYE,EAAkB,SAAAvC,GAC7B,OAAOkC,MAAM,GAAD,OAAIH,EAAJ,kBAAsB/B,EAAtB,4BAAiDgC,IAAWrB,MACtE,SAAAwB,GACE,OAAmB,MAAfA,EAAIC,OACCtB,QAAQC,OAAO,IAAIC,MAAJ,kCACVmB,EAAIE,MACnB,GAEJ,EAEYG,EAAkB,SAAAC,GAC7B,OAAOP,MAAM,GAAD,OACPH,EADO,+BACwBU,EADxB,oBACyCT,IACnDrB,MAAK,SAAAwB,GACL,OAAmB,MAAfA,EAAIC,OACCtB,QAAQC,OAAO,IAAIC,MAAJ,kCACVmB,EAAIE,MACnB,GACF,C","sources":["webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","components/Cast/Cast.jsx","services/getMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Cast_list__GlWio\",\"itemList\":\"Cast_itemList__mSijY\",\"itemImage\":\"Cast_itemImage__RDMgi\",\"itemInfo\":\"Cast_itemInfo__fCNwn\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieCast } from 'services/getMovies';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './Cast.module.css';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    getMovieCast(movieId)\n      .then(data => {\n        if (data.length === 0) {\n          return Promise.reject(\n            new Error(`Oops, something went wrong... Please try again`)\n          );\n        }\n        return setCast(data.cast);\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  return (\n    <div>\n      {error && <h1>{error.message}</h1>}\n      {loading && <Loader />}\n\n      <ul className={css.list}>\n        {cast.map(({ profile_path, character, name, id }) => {\n          return (\n            <li className={css.itemList} key={id}>\n              <img\n                className={css.itemImage}\n                src={\n                  profile_path\n                    ? `https://image.tmdb.org/t/p/w200${profile_path}`\n                    : `https://dummyimage.com/200x300&text=${name}`\n                }\n                alt={name}\n                width=\"200\"\n              />\n              <div className={css.itemInfo}>\n                <h4>{name}</h4>\n                <p>Character: {character}</p>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\nexport default Cast;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'f8a6c1c08257b05a7c4692b093cbf34e';\n\nexport const getTrendingMovies = () => {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getMovieDetailes = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(`Oops, something went wrong...`));\n    } else return res.json();\n  });\n};\n\nexport const getMovieCast = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getMovieReviews = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`).then(\n    res => {\n      if (res.status !== 200) {\n        return Promise.reject(new Error(`Oops, something went wrong...`));\n      } else return res.json();\n    }\n  );\n};\n\nexport const getSearchMovies = query => {\n  return fetch(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`\n  ).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(`Oops, something went wrong...`));\n    } else return res.json();\n  });\n};\n"],"names":["movieId","useParams","useState","cast","setCast","loading","setLoading","error","setError","useEffect","getMovieCast","then","data","length","Promise","reject","Error","catch","finally","message","Loader","className","css","map","profile_path","character","name","id","src","alt","width","BASE_URL","API_KEY","getTrendingMovies","fetch","res","status","json","getMovieDetailes","getMovieReviews","getSearchMovies","query"],"sourceRoot":""}