"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[168],{168:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var r=t(439),o=t(791),c=t(689),i=t(323),s=t(525),u="Reviews_list__okdpy",a="Reviews_itemList__SmW54",h=t(184),f=function(){var n=(0,c.UO)().movieId,e=(0,o.useState)([]),t=(0,r.Z)(e,2),f=t[0],m=t[1],w=(0,o.useState)(!1),l=(0,r.Z)(w,2),p=l[0],d=l[1],g=(0,o.useState)(null),j=(0,r.Z)(g,2),v=j[0],_=j[1];return(0,o.useEffect)((function(){d(!0),(0,i.tx)(n).then((function(n){return 0===n.length?Promise.reject(new Error("Oops, something went wrong... Please try again")):m(n.results)})).catch((function(n){return _(n)})).finally((function(){return d(!1)}))}),[n]),(0,h.jsxs)("div",{children:[v&&(0,h.jsx)("h1",{children:v.message}),p&&(0,h.jsx)(s.a,{}),(0,h.jsx)("ul",{className:u,children:0===f.length?"We don`t have any reviews for his movie":f.map((function(n){var e=n.author,t=n.content,r=n.id;return(0,h.jsxs)("li",{className:a,children:[(0,h.jsxs)("h3",{children:["Author: ",e]}),(0,h.jsx)("p",{children:t})]},r)}))})]})}},323:function(n,e,t){t.d(e,{Df:function(){return c},M1:function(){return s},V0:function(){return a},tT:function(){return i},tx:function(){return u}});var r="https://api.themoviedb.org/3",o="f8a6c1c08257b05a7c4692b093cbf34e",c=function(){return fetch("".concat(r,"/trending/movie/day?api_key=").concat(o)).then((function(n){return 200!==n.status?Promise.reject(new Error("Oops, something went wrong...")):n.json()}))},i=function(n){return fetch("".concat(r,"/movie/").concat(n,"?api_key=").concat(o)).then((function(n){return 200!==n.status?Promise.reject(new Error("Oops, something went wrong...")):n.json()}))},s=function(n){return fetch("".concat(r,"/movie/").concat(n,"/credits?api_key=").concat(o)).then((function(n){return 200!==n.status?Promise.reject(new Error("Oops, something went wrong...")):n.json()}))},u=function(n){return fetch("".concat(r,"/movie/").concat(n,"/reviews?api_key=").concat(o)).then((function(n){return 200!==n.status?Promise.reject(new Error("Oops, something went wrong...")):n.json()}))},a=function(n){return fetch("".concat(r,"/search/movie?query=").concat(n,"&api_key=").concat(o)).then((function(n){return 200!==n.status?Promise.reject(new Error("Oops, something went wrong...")):n.json()}))}}}]);
//# sourceMappingURL=168.a0bf5e73.chunk.js.map